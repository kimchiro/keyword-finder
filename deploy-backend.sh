#!/bin/bash
# Railway ë°±ì—”ë“œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

echo "ğŸš€ ë°±ì—”ë“œ ë°°í¬ ì¤€ë¹„ ì¤‘..."

# ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd app/backend

# ì˜ì¡´ì„± ì„¤ì¹˜
echo "ğŸ“¦ ì˜ì¡´ì„± ì„¤ì¹˜ ì¤‘..."
npm ci --only=production

# ë¹Œë“œ ì‹¤í–‰
echo "ğŸ”¨ ë¹Œë“œ ì‹¤í–‰ ì¤‘..."
npm run build

# ì„œë²„ ì‹œì‘
echo "ğŸ¯ ì„œë²„ ì‹œì‘..."
node dist/main.js
