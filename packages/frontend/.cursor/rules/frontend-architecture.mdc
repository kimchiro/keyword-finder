# Frontend Architecture Rules - ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì§€ì¹¨

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° ê°œìš”

```
src/
â”œâ”€â”€ app/                    # Next.js App Router í˜ì´ì§€
â”œâ”€â”€ commons/                # ì „ì—­ ê³µí†µ ë¦¬ì†ŒìŠ¤
â”‚   â”œâ”€â”€ apis/              # API í†µì‹  í•¨ìˆ˜ë“¤
â”‚   â”œâ”€â”€ components/        # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ enums/             # ì „ì—­ ìƒìˆ˜/ì—´ê±°í˜•
â”‚   â”œâ”€â”€ hooks/             # ì „ì—­ ìƒíƒœ ê´€ë¦¬ í›…
â”‚   â””â”€â”€ types/             # ì „ì—­ íƒ€ì… ì •ì˜
â””â”€â”€ components/            # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
    â””â”€â”€ [FeatureName]/     # ê¸°ëŠ¥ëª… í´ë”
        â”œâ”€â”€ apis/          # ê¸°ëŠ¥ë³„ API (ì„ íƒì )
        â”œâ”€â”€ hooks/         # ê¸°ëŠ¥ë³„ í›… (ì„ íƒì )
        â”œâ”€â”€ types/         # ê¸°ëŠ¥ë³„ íƒ€ì…
        â”œâ”€â”€ utils/         # ê¸°ëŠ¥ë³„ ìœ í‹¸ë¦¬í‹°
        â”œâ”€â”€ index.tsx      # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
        â””â”€â”€ styles.ts      # ìŠ¤íƒ€ì¼ ì •ì˜
```

## ğŸ¯ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ íŒë‹¨ ê¸°ì¤€

### 1. API í•¨ìˆ˜ ë°°ì¹˜ ê²°ì •
**ğŸ”— `commons/apis/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- ì—¬ëŸ¬ ê¸°ëŠ¥ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” API
- ë°±ì—”ë“œì™€ì˜ í•µì‹¬ ë°ì´í„° í†µì‹ 
- ì˜ˆ: `scrapeKeywords`, `searchNaverBlogs`, `getIntegratedKeywordData`

**ğŸ“ `components/[Feature]/apis/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- íŠ¹ì • ê¸°ëŠ¥ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” API
- ê¸°ëŠ¥ë³„ ì „ìš© ë°ì´í„° ì²˜ë¦¬
- ì˜ˆ: íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì˜ í•„í„°ë§, ì •ë ¬ API

### 2. í›…(Hook) ë°°ì¹˜ ê²°ì •
**âš¡ `commons/hooks/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- API í†µì‹  ì—†ì´ ìˆœìˆ˜í•œ ìƒíƒœ ê´€ë¦¬ë§Œ í•˜ëŠ” í›…
- ì—¬ëŸ¬ ê¸°ëŠ¥ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” ìƒíƒœ ë¡œì§
- ì˜ˆ: `useKeywordScraping`, `useNaverSearch`, `useKeywordAnalysis`

**ğŸª `components/[Feature]/hooks/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- íŠ¹ì • ê¸°ëŠ¥ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ìƒíƒœ ë¡œì§
- ì»´í¬ë„ŒíŠ¸ë³„ ì „ìš© ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- ì˜ˆ: íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì˜ í¼ ìƒíƒœ, UI ìƒíƒœ ê´€ë¦¬

### 3. íƒ€ì… ë°°ì¹˜ ê²°ì •
**ğŸ“ `commons/types/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- API ì‘ë‹µ/ìš”ì²­ íƒ€ì…
- ì—¬ëŸ¬ ê¸°ëŠ¥ì—ì„œ ê³µìœ ë˜ëŠ” ë°ì´í„° íƒ€ì…
- ì˜ˆ: `ScrapingResult`, `NaverSearchApiResponse`, `ScrapedKeyword`

**ğŸ·ï¸ `components/[Feature]/types/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…
- ê¸°ëŠ¥ë³„ ì „ìš© ì¸í„°í˜ì´ìŠ¤
- ì˜ˆ: `SearchResultsProps`, `UnifiedKeywordTableProps`

### 4. ì»´í¬ë„ŒíŠ¸ ë°°ì¹˜ ê²°ì •
**ğŸŒ `commons/components/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- í”„ë¡œì íŠ¸ ì „ì²´ì—ì„œ ì¬ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸
- UI ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„±ê²©ì˜ ì»´í¬ë„ŒíŠ¸
- ì˜ˆ: `SearchForm`, `Button`, `Modal`

**ğŸ¨ `components/[Feature]/`ì— ë°°ì¹˜í•˜ëŠ” ê²½ìš°:**
- íŠ¹ì • ë„ë©”ì¸/ê¸°ëŠ¥ì— íŠ¹í™”ëœ ì»´í¬ë„ŒíŠ¸
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸
- ì˜ˆ: `SearchResults`, `BlogSearchResults`, `UnifiedKeywordTable`

## ğŸ“‹ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ë‹¨ê³„ë³„ ê°€ì´ë“œ

### Step 1: ê¸°ëŠ¥ ë¶„ì„ ë° ì„¤ê³„
1. **ê¸°ëŠ¥ì˜ ë„ë©”ì¸ ì‹ë³„** (ì˜ˆ: user-management, product-catalog)
2. **ì¬ì‚¬ìš©ì„± ë¶„ì„** (ì „ì—­ vs ê¸°ëŠ¥ë³„)
3. **API í†µì‹  ì—¬ë¶€ í™•ì¸**
4. **ìƒíƒœ ê´€ë¦¬ ë³µì¡ë„ í‰ê°€**

### Step 2: í´ë” êµ¬ì¡° ìƒì„±
```bash
# ìƒˆë¡œìš´ ê¸°ëŠ¥ í´ë” ìƒì„±
components/[FeatureName]/
â”œâ”€â”€ index.tsx              # ë©”ì¸ ì»´í¬ë„ŒíŠ¸ (í•„ìˆ˜)
â”œâ”€â”€ styles.ts              # ìŠ¤íƒ€ì¼ ì •ì˜ (í•„ìˆ˜)
â”œâ”€â”€ types/                 # íƒ€ì… ì •ì˜ (í•„ìˆ˜)
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (ì„ íƒì )
â”œâ”€â”€ hooks/                 # ê¸°ëŠ¥ë³„ í›… (ì„ íƒì )
â”œâ”€â”€ apis/                  # ê¸°ëŠ¥ë³„ API (ì„ íƒì )
â””â”€â”€ components/            # í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ (ì„ íƒì )
```

### Step 3: íƒ€ì… ì •ì˜ ìš°ì„  ì‘ì„±
```typescript
// components/[Feature]/types/index.ts
export interface [Feature]Props {
  // ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…
}

export interface [Feature]State {
  // ìƒíƒœ íƒ€ì…
}

// commons/typesì—ì„œ í•„ìš”í•œ íƒ€ì… re-export
export type { SharedType } from '@/commons/types';
```

### Step 4: API í•¨ìˆ˜ ì‘ì„± (í•„ìš”ì‹œ)
```typescript
// commons/apis/[feature].ts (ì „ì—­ ì¬ì‚¬ìš©)
export const [apiFunction] = async (): Promise<ResponseType> => {
  // API ë¡œì§
};

// ë˜ëŠ” components/[Feature]/apis/index.ts (ê¸°ëŠ¥ë³„ ì „ìš©)
export const [featureSpecificApi] = async () => {
  // ê¸°ëŠ¥ë³„ API ë¡œì§
};
```

### Step 5: í›… ì‘ì„± (í•„ìš”ì‹œ)
```typescript
// commons/hooks/use[Feature].ts (ì „ì—­ ìƒíƒœ ê´€ë¦¬)
export const use[Feature] = () => {
  // ìˆœìˆ˜ ìƒíƒœ ê´€ë¦¬ ë¡œì§
};

// ë˜ëŠ” components/[Feature]/hooks/use[Feature]Logic.ts
export const use[Feature]Logic = () => {
  // ê¸°ëŠ¥ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
};
```

### Step 6: ì»´í¬ë„ŒíŠ¸ ì‘ì„±
```typescript
// components/[Feature]/index.tsx
import type { [Feature]Props } from './types';
import { [Feature]Container } from './styles';

export const [Feature]: React.FC<[Feature]Props> = (props) => {
  // ì»´í¬ë„ŒíŠ¸ ë¡œì§
};

// íƒ€ì…ê³¼ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ export
export type { [Feature]Props } from './types';
```

### Step 7: ìŠ¤íƒ€ì¼ ì •ì˜
```typescript
// components/[Feature]/styles.ts
import styled from '@emotion/styled';

export const [Feature]Container = styled.div`
  // ìŠ¤íƒ€ì¼ ì •ì˜
`;
```

## ğŸš« ê¸ˆì§€ì‚¬í•­

1. **`any` íƒ€ì… ì‚¬ìš© ê¸ˆì§€** - ëª¨ë“  íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜
2. **ì§ì ‘ì ì¸ axios ì‚¬ìš© ê¸ˆì§€** - commons/apisë¥¼ í†µí•œ API í˜¸ì¶œ
3. **ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì‚¬ìš© ê¸ˆì§€** - styles.ts íŒŒì¼ ì‚¬ìš©
4. **ì ˆëŒ€ ê²½ë¡œ ì—†ëŠ” ìƒëŒ€ ê²½ë¡œ ê¸ˆì§€** - `@/` alias ì‚¬ìš©
5. **ê¸°ëŠ¥ë³„ í´ë” ì™¸ë¶€ì— ìŠ¤íƒ€ì¼ ì •ì˜ ê¸ˆì§€** - ê° ê¸°ëŠ¥ í´ë” ë‚´ styles.ts ì‚¬ìš©

## âœ… ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

1. **ë‹¨ì¼ ì±…ì„ ì›ì¹™** - ê° íŒŒì¼/í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ
2. **íƒ€ì… ìš°ì„  ê°œë°œ** - íƒ€ì… ì •ì˜ í›„ êµ¬í˜„
3. **ì¬ì‚¬ìš©ì„± ê³ ë ¤** - commons vs components ì ì ˆí•œ ë°°ì¹˜
4. **ëª…í™•í•œ ë„¤ì´ë°** - ê¸°ëŠ¥ê³¼ ì—­í• ì´ ëª…í™•í•œ ì´ë¦„ ì‚¬ìš©
5. **ì¼ê´€ëœ export íŒ¨í„´** - index.tsë¥¼ í†µí•œ í†µí•© export

## ğŸ“ ì‹¤ì œ ì ìš© ì˜ˆì‹œ

### í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡° (ì˜¬ë°”ë¥¸ ì˜ˆì‹œ)
```typescript
// âœ… ì „ì—­ API (commons/apis/keywordScraping.ts)
export const scrapeKeywords = async (query: string, options: ScrapingOptions) => {
  // API í†µì‹  ë¡œì§
};

// âœ… ì „ì—­ í›… (commons/hooks/useKeywordScraping.ts)
export const useKeywordScraping = () => {
  // ìˆœìˆ˜ ìƒíƒœ ê´€ë¦¬ ë¡œì§
  const scrapeKeywords = async (query: string, options: ScrapingOptions) => {
    const result = await apiScrapeKeywords(query, options);
    setState(result);
  };
};

// âœ… ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸ (components/SearchResults/index.tsx)
export const SearchResults: React.FC<SearchResultsProps> = ({ results }) => {
  // ì»´í¬ë„ŒíŠ¸ ë¡œì§
};

// âœ… ê¸°ëŠ¥ë³„ íƒ€ì… (components/SearchResults/types/index.ts)
export interface SearchResultsProps {
  results: ScrapingResult;
}
```

### ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ (ì˜ˆ: UserProfile)
```typescript
// 1. íƒ€ì… ì •ì˜ (components/UserProfile/types/index.ts)
export interface UserProfileProps {
  userId: string;
}

// 2. API í•¨ìˆ˜ (commons/apis/user.ts) - ì¬ì‚¬ìš© ê°€ëŠ¥
export const getUserProfile = async (userId: string): Promise<UserProfile> => {
  // API ë¡œì§
};

// 3. í›… (commons/hooks/useUserProfile.ts) - ì¬ì‚¬ìš© ê°€ëŠ¥
export const useUserProfile = () => {
  // ìƒíƒœ ê´€ë¦¬ ë¡œì§
};

// 4. ì»´í¬ë„ŒíŠ¸ (components/UserProfile/index.tsx)
export const UserProfile: React.FC<UserProfileProps> = ({ userId }) => {
  const { user, loading, error } = useUserProfile();
  // ì»´í¬ë„ŒíŠ¸ ë¡œì§
};
```

## ğŸ”„ ë¦¬íŒ©í† ë§ ê°€ì´ë“œ

ê¸°ì¡´ ì½”ë“œë¥¼ ì´ êµ¬ì¡°ì— ë§ê²Œ ë¦¬íŒ©í† ë§í•  ë•Œ:

1. **API í•¨ìˆ˜ ë¶„ë¦¬** - ì»´í¬ë„ŒíŠ¸ì—ì„œ axios ì§ì ‘ í˜¸ì¶œ â†’ commons/apisë¡œ ì´ë™
2. **ìƒíƒœ ë¡œì§ ë¶„ë¦¬** - ì»´í¬ë„ŒíŠ¸ ë‚´ ìƒíƒœ ê´€ë¦¬ â†’ ì ì ˆí•œ í›…ìœ¼ë¡œ ë¶„ë¦¬
3. **íƒ€ì… ì¤‘ì•™í™”** - ì¤‘ë³µëœ íƒ€ì… ì •ì˜ â†’ commons/typesë¡œ í†µí•©
4. **ìŠ¤íƒ€ì¼ ë¶„ë¦¬** - ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ â†’ styles.ts íŒŒì¼ë¡œ ë¶„ë¦¬
5. **ìœ í‹¸ë¦¬í‹° ë¶„ë¦¬** - ì»´í¬ë„ŒíŠ¸ ë‚´ í—¬í¼ í•¨ìˆ˜ â†’ utils í´ë”ë¡œ ë¶„ë¦¬